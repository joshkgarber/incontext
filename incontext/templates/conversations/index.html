{% extends "base.html" %}

{% block header %}
	<h1>{% block title %}Conversations{% endblock %}</h1>
{% endblock %}

{% block main %}
    {% if conversations|length == 0 %}
    <p>None found</p>
    {% endif %}
	{% for conversation in conversations %}
        <article class="conversation-card">
            <header>
                <h2>{{ conversation["name"] }}</h2>
            </header>
            <section>
                <p>Agent: {{ conversation["agent_name"] }} <a href="{{ url_for("agents.view", agent_id=conversation["agent_id"]) }}">View</a></p>
                <p>Context: {{ conversation["context_name"] }} <a href="{{ url_for("contexts.view", context_id=conversation["context_id"]) }}">View</a></p>
            </section>
            <footer>
                <a href="{{ url_for("conversations.edit", id=conversation["id"]) }}">Edit</a>
                <p>Created: {{ conversation["created"].strftime("%d.%m.%Y") }}</p>
            </footer>
        </article>
        {% if not loop.last %}
            <hr>
		{% endif %}
	{% endfor %}
{% endblock %}
